[
  {
    "pk": 1, 
    "model": "reports.sqlreport", 
    "fields": {
      "query": "select cases.meta_username as 'Healthcare Worker',\n       cases.cnt as '# of Patients',\n       hi_risk.cnt as '# of High Risk',\n       followups.cnt as '# of Follow Up',\n       intel_clinic.name as 'Clinic'\nfrom  intel_userprofile, intel_clinic, (\n  SELECT sampledata_meta_userid, meta_username, count(distinct sampledata_case_id) as cnt\n  FROM schema_intel_grameen_safe_motherhood_registration_v0_3\n where sampledata_meta_userid > 0 group by meta_username \n) cases left outer join\n(\n  select meta_username, count(*) as cnt\n  from (\n     select meta_username, sampledata_case_id\n     from schema_intel_grameen_safe_motherhood_registration_v0_3\n     where sampledata_hi_risk = 'yes' and sampledata_meta_userid > 0\n     group by meta_username, sampledata_case_id\n  ) hi_risk_cases\n  group by meta_username\n) hi_risk\n  on cases.meta_username = hi_risk.meta_username\n  left outer join\n(  select meta_username, count(*) as cnt\n   from schema_intel_grameen_safe_motherhood_followup_v0_2\n group by meta_username \n) followups\non followups.meta_username = hi_risk.meta_username\nwhere cases.sampledata_meta_userid = intel_userprofile.user_id AND intel_userprofile.clinic_id = intel_clinic.id\norder by clinic",
      "domain": 3, 
      "description": "Summary of data by health worker", 
      "title": "Data by Mobile Healthcare Worker"
    }
  }, 
  {
    "pk": 2, 
    "model": "reports.sqlreport", 
    "fields": {
      "query": "/* individual chw view */\r\nSELECT sampledata_case_id as 'Case ID',\r\n       meta_username as 'Healthcare Worker',\r\n       sampledata_mother_name as 'Mother Name',\r\n       sampledata_address as 'Address',\r\n       sampledata_hi_risk as 'Hi Risk?',\r\n       'No' as 'Follow up?', /* need to fix this when we actually have FU */\r\n       id as 'Instance ID'\r\nFROM schema_intel_grameen_safe_motherhood_registration_v0_3\r\n{{whereclause}} {{orderby}}", 
      "domain": 3, 
      "is_active": 0, 
      "description": "Summary view of individual mother data by health workers", 
      "title": "Health Worker Submission Details"
    }
  }, 
  {
    "pk": 1, 
    "model": "reports.columnformatter", 
    "fields": {
      "report": 1, 
      "header": "# of Patients", 
      "display_format": "<a href=\"/reports/3/custom/chw_submission_details?meta_username=%(Healthcare Worker)s\">%(value)s</a>"
    }
  }, 
  {
    "pk": 2, 
    "model": "reports.columnformatter", 
    "fields": {
      "report": 1, 
      "header": "# of High Risk", 
      "display_format": "<a href=\"/reports/3/custom/chw_submission_details?meta_username=%(Healthcare Worker)s&sampledata_hi_risk=yes\">%(value)s</a>"
    }
  }
]
